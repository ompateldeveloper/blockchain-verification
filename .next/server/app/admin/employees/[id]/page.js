(()=>{var e={};e.id=4602,e.ids=[4602],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},77598:e=>{"use strict";e.exports=require("node:crypto")},8191:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>l,routeModule:()=>m,tree:()=>c});var s=r(70260),a=r(28203),i=r(25155),n=r.n(i),d=r(67292),o={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);r.d(t,o);let c=["",{children:["admin",{children:["employees",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,35829)),"C:\\Users\\Master\\Desktop\\Accentiqa\\Blockchain\\v2\\blockchain-verification\\src\\app\\admin\\employees\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,96038)),"C:\\Users\\Master\\Desktop\\Accentiqa\\Blockchain\\v2\\blockchain-verification\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,71354)),"C:\\Users\\Master\\Desktop\\Accentiqa\\Blockchain\\v2\\blockchain-verification\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["C:\\Users\\Master\\Desktop\\Accentiqa\\Blockchain\\v2\\blockchain-verification\\src\\app\\admin\\employees\\[id]\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/employees/[id]/page",pathname:"/admin/employees/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},36355:(e,t,r)=>{Promise.resolve().then(r.bind(r,35829))},2011:(e,t,r)=>{Promise.resolve().then(r.bind(r,90492))},6766:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(41680).A)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},90492:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var s=r(45512),a=r(5087),i=r(58009),n=r.n(i),d=r(39400),o=r(13637),c=r(77722),l=r(52628),p=r(81914),m=r(63936),u=r(89352),h=r(6766),x=r(86201),g=r(6868),f=r(14292),v=r(74673);function b(e){let[t,r]=n().useState("idle"),[i,b]=n().useState(""),y=n().useRef(null),{register:k,handleSubmit:j,reset:z,formState:{errors:w}}=(0,g.mN)({resolver:(0,p.u)(v.w)}),N=async e=>{let t=new m.k(window?.ethereum),r=await t.getSigner(),s="0x86686D239bc67de752B28b7A12c7D5Df0fE551C0";if(!s)throw Error("Contract address is not defined");let a=new u.NZ(s,f.HV,r),i=await a.updateExperience(e.empId,`${e.fname} ${e.mname} ${e.lname}`,"Accentiqa",String(e.startDate),String(e.endDate),e.pfNumber);return(await i.wait()).logs[0].args[0]},q=async e=>{a.K.post("/employees",e).then(e=>{r("Updating hash on blockchain")}).catch(e=>{console.error("Error adding employee:",e),r("idle"),b("Error adding employee to Database")});let t=await N(e);r("Updating hash on database"),a.K.post(`/employees/update-hash/${e.empId}`,{empHash:t}).then(e=>{r("idle"),y.current?.click(),z()}).catch(e=>{console.error("Error adding employee:",e),r("idle"),b("Error adding employee to Database")})};return(0,s.jsxs)("form",{className:" flex flex-col px-2 pt-4 space-y-2 relative",onSubmit:j(q),children:["idle"!==t&&(0,s.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-4 bg-zinc-50 dark:bg-gray-900 rounded-md shadow-md",children:(0,s.jsxs)("div",{children:[t,(0,s.jsx)("div",{className:"animate-spin w-min",children:(0,s.jsx)(h.A,{})})]})}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.J,{htmlFor:"fname",children:"First Name *"}),(0,s.jsx)(c.p,{...k("fname")}),(0,s.jsx)("div",{className:"text-red-500 dark:text-red-600 text-xs",children:w?.fname?.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.J,{htmlFor:"mname",children:"Middle Name *"}),(0,s.jsx)(c.p,{...k("mname")}),(0,s.jsx)("div",{className:"text-red-500 dark:text-red-600 text-xs",children:w?.mname?.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.J,{htmlFor:"lname",children:"Last Name *"}),(0,s.jsx)(c.p,{...k("lname")}),(0,s.jsx)("div",{className:"text-red-500 dark:text-red-600 text-xs",children:w?.lname?.message})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.J,{htmlFor:"email",children:"Email *"}),(0,s.jsx)(c.p,{...k("email")}),(0,s.jsx)("div",{className:"text-red-500 dark:text-red-600 text-xs",children:w?.email?.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.J,{htmlFor:"empId",children:"Employee ID *"}),(0,s.jsx)(c.p,{...k("empId")}),(0,s.jsx)("div",{className:"text-red-500 dark:text-red-600 text-xs",children:w?.empId?.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.J,{htmlFor:"pfNumber",children:"PF Number *"}),(0,s.jsx)(c.p,{...k("pfNumber")}),(0,s.jsx)("div",{className:"text-red-500 dark:text-red-600 text-xs",children:w?.pfNumber?.message})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.J,{htmlFor:"startDate",children:"Start Date *"}),(0,s.jsx)(c.p,{type:"date",...k("startDate",{valueAsDate:!0})}),(0,s.jsx)("div",{className:"text-red-500 dark:text-red-600 text-xs",children:w?.startDate?.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(l.J,{htmlFor:"endDate",className:"flex items-center gap-1",children:["End Date",(0,s.jsxs)(o.jc,{children:[(0,s.jsx)(o.d0,{children:(0,s.jsx)(x.A,{className:"w-4"})}),(0,s.jsx)(o.Et,{children:"Leave empty if the employee is still active"})]})]}),(0,s.jsx)(c.p,{type:"date",...k("endDate")}),(0,s.jsx)("div",{className:"text-red-500 dark:text-red-600 text-xs",children:w?.endDate?.message})]})]}),(0,s.jsx)(d.$,{type:"submit",children:"Submit"})]})}var y=r(79334);function k(){(0,y.useParams)();let[e,t]=(0,i.useState)();return e?(0,s.jsx)("div",{children:(0,s.jsx)(b,{employee:e})}):(0,s.jsx)("div",{children:"Loading..."})}},74673:(e,t,r)=>{"use strict";r.d(t,{w:()=>a});var s=r(16131);let a=s.z.object({fname:s.z.string().min(2,"First name must be at least 2 characters long"),mname:s.z.string().min(1,"Middle name must be at least 1 characters long").optional().or(s.z.literal("")),lname:s.z.string().min(2,"Last name must be at least 2 characters long"),email:s.z.string().email(),empId:s.z.string().min(1),pfNumber:s.z.string().min(1),startDate:s.z.date({required_error:"Start date is required"}),endDate:s.z.string().optional().transform(e=>e?new Date(e):void 0).refine(e=>!e||!isNaN(e.getTime()),{message:"Invalid date format"})})},39400:(e,t,r)=>{"use strict";r.d(t,{$:()=>c,r:()=>o});var s=r(45512),a=r(58009),i=r(12705),n=r(21643),d=r(44195);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",{variants:{variant:{default:"bg-zinc-900 text-zinc-50 hover:bg-zinc-900/90 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/90",destructive:"bg-red-500 text-zinc-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-zinc-50 dark:hover:bg-red-900/90",outline:"border border-zinc-200 bg-white hover:bg-zinc-100 hover:text-zinc-900 dark:border-zinc-800 dark:bg-zinc-950 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",secondary:"bg-zinc-100 text-zinc-900 hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",ghost:"hover:bg-zinc-100 hover:text-zinc-900 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",link:"text-zinc-900 underline-offset-4 hover:underline dark:text-zinc-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...n},c)=>{let l=a?i.DX:"button";return(0,s.jsx)(l,{className:(0,d.cn)(o({variant:t,size:r,className:e})),ref:c,...n})});c.displayName="Button"},77722:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var s=r(45512),a=r(58009),i=r(44195);let n=a.forwardRef(({className:e,type:t,...r},a)=>(0,s.jsx)("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-zinc-200 bg-white px-3 py-2 text-base ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-zinc-950 placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:bg-zinc-950 dark:ring-offset-zinc-950 dark:file:text-zinc-50 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",e),ref:a,...r}));n.displayName="Input"},52628:(e,t,r)=>{"use strict";r.d(t,{J:()=>c});var s=r(45512),a=r(58009),i=r(92405),n=r(21643),d=r(44195);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(i.b,{ref:r,className:(0,d.cn)(o(),e),...t}));c.displayName=i.b.displayName},35829:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Master\\\\Desktop\\\\Accentiqa\\\\Blockchain\\\\v2\\\\blockchain-verification\\\\src\\\\app\\\\admin\\\\employees\\\\[id]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Master\\Desktop\\Accentiqa\\Blockchain\\v2\\blockchain-verification\\src\\app\\admin\\employees\\[id]\\page.tsx","default")},63936:(e,t,r)=>{"use strict";r.d(t,{k:()=>i});var s=r(45660),a=r(77129);class i extends a._y{#e;constructor(e,t,r){let a=Object.assign({},null!=r?r:{},{batchMaxCount:1});(0,s.MR)(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,a),this.#e=async(t,r)=>{let s={method:t,params:r};this.emit("debug",{action:"sendEip1193Request",payload:s});try{let t=await e.request(s);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(t){let e=Error(t.message);throw e.code=t.code,e.data=t.data,e.payload=s,this.emit("debug",{action:"receiveEip1193Error",error:e}),e}}}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){(0,s.MR)(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{let t=await this.#e(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);let t=await this.send("eth_accounts",[]);return"number"==typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter(t=>t.toLowerCase()===e).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(t){let e=t.payload;throw this.getRpcError(e,{id:e.id,error:t})}return await super.getSigner(e)}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,5637,7720,5668,7556,2190,8847,23,6580,4508,8218],()=>r(8191));module.exports=s})();