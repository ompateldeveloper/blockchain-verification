(()=>{var e={};e.id=8887,e.ids=[8887],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},64606:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>m,routeModule:()=>g,serverHooks:()=>f,workAsyncStorage:()=>h,workUnitAsyncStorage:()=>v});var s={};t.r(s),t.d(s,{POST:()=>x});var n=t(42706),i=t(28203),a=t(45994),u=t(39187),o=t(96330),p=t(58964),c=t.n(p),d=t(6663);let l=new o.PrismaClient;async function x(e){try{let{email:r,password:t,fname:s,lname:n}=await e.json();if(await l.adminUsers.findFirst({where:{email:r}}))return u.NextResponse.json({error:"User already exists"},{status:400});let i=await c().hash(t,10),a=await l.adminUsers.create({data:{email:r,password:i,fname:s,lname:n}}),o=(0,d.zF)({userId:a.id,isAdmin:!0}),p=u.NextResponse.json({message:"User created successfully"},{status:201});return p.cookies.set("token",o,{httpOnly:!0,secure:!0}),p}catch(e){return console.error("Signup error:",e),u.NextResponse.json({error:"Internal server error"},{status:500})}}let g=new n.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/auth/signup/route",pathname:"/api/auth/signup",filename:"route",bundlePath:"app/api/auth/signup/route"},resolvedPagePath:"C:\\Users\\Master\\Desktop\\Accentiqa\\Blockchain\\v2\\blockchain-verification\\src\\app\\api\\auth\\signup\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:h,workUnitAsyncStorage:v,serverHooks:f}=g;function m(){return(0,a.patchFetch)({workAsyncStorage:h,workUnitAsyncStorage:v})}},96487:()=>{},78335:()=>{},6663:(e,r,t)=>{"use strict";t.d(r,{gf:()=>o,zF:()=>u});var s=t(43008),n=t.n(s),i=t(44512);let a=process.env.JWT_SECRET||"your-secret-key";function u(e){return n().sign(e,a)}async function o(){let e=await (0,i.UL)(),r=e.get("token")?.value,{userId:t}=await function(e){try{return n().verify(e,a)}catch(e){console.log(e);return}}(String(r));return t}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,5452,8935,8964],()=>t(64606));module.exports=s})();